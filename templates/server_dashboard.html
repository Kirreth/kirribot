<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>{{ guild.name }} Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>{{ guild.name }} Dashboard</h1>

        <a href="/" class="button button-secondary back-button">← Zurück zur Serverauswahl</a>


        <!-- Einstellungen Form -->
        <form action="/server/{{ guild_id }}/update" method="post" class="card">
            <label>Prefix</label>
            <input type="text" name="prefix" value="{{ prefix }}">

            <label>Birthday Channel</label>
            <select name="birthday_channel">
                <option value="">Nicht gesetzt</option>
                {% for channel in text_channels %}
                <option value="{{ channel.id }}" {% if birthday_channel == channel.id|string %}selected{% endif %}>{{ channel.name }}</option>
                {% endfor %}
            </select>

            <label>Sanctions Channel</label>
            <select name="sanctions_channel">
                <option value="">Nicht gesetzt</option>
                {% for channel in text_channels %}
                <option value="{{ channel.id }}" {% if sanctions_channel == channel.id|string %}selected{% endif %}>{{ channel.name }}</option>
                {% endfor %}
            </select>

            <label>Bump Reminder Channel</label>
            <select name="bump_channel">
                <option value="">Nicht gesetzt</option>
                {% for channel in text_channels %}
                <option value="{{ channel.id }}" {% if bump_channel == channel.id|string %}selected{% endif %}>{{ channel.name }}</option>
                {% endfor %}
            </select>

            <label>Join/Left Channel</label>
            <select name="joinleft_channel">
                <option value="">Nicht gesetzt</option>
                {% for channel in text_channels %}
                <option value="{{ channel.id }}" {% if joinleft_channel == channel.id|string %}selected{% endif %}>{{ channel.name }}</option>
                {% endfor %}
            </select>

            <label>Dynamic Voice Channel</label>
            <select name="voice_channel">
                <option value="">Nicht gesetzt</option>
                {% for channel in voice_channels %}
                <option value="{{ channel.id }}" {% if voice_channel == channel.id|string %}selected{% endif %}>{{ channel.name }}</option>
                {% endfor %}
            </select>

            <label>Bumper Role</label>
            <select name="bumper_role">
                <option value="">Nicht gesetzt</option>
                {% for role in roles %}
                <option value="{{ role.id }}" {% if bumper_role == role.id|string %}selected{% endif %}>{{ role.name }}</option>
                {% endfor %}
            </select>

            <div class="form-actions">
                <button type="submit">Speichern</button>
            </div>
        </form>

        <!-- Custom Commands -->
        <div class="card">
            <h2>Custom Commands</h2>
            {% for cmd, resp in custom_commands.items() %}
            <div class="command">
                <span><strong>{{ cmd }}</strong>: {{ resp }}</span>
                <form action="/server/{{ guild_id }}/commands/remove" method="post">
                    <input type="hidden" name="command_name" value="{{ cmd }}">
                    <button>Löschen</button>
                </form>
            </div>
            {% endfor %}

            <!-- Add new command -->
            <form action="/server/{{ guild_id }}/commands/add" method="post" class="flex">
                <input type="text" name="command_name" placeholder="Name" class="flex-1">
                <input type="text" name="response" placeholder="Response" class="flex-2">
                <button type="submit">Hinzufügen</button>
            </form>
        </div>

       
    </div>
        <footer>
        <div class="container">
            <p>&copy; 2023 Kirribot. Alle Rechte vorbehalten.</p>
        </div>
    </footer>
</body>
</html>
